apiVersion: security.istio.io/v1beta1
kind: AuthorizationPolicy
metadata:
  name: shipping-v2--3487815263249072008
  namespace: sockshop
spec:
  rules:
  - from:
    - source:
        principals:
        - cluster.local/ns/sockshop/sa/sockshop-shipping
    to:
    - operation:
        ports:
        - '5672'
  selector:
    matchLabels:
      app: rabbitmq
---
apiVersion: security.istio.io/v1beta1
kind: AuthorizationPolicy
metadata:
  name: front-end-v2-858797158681803234
  namespace: sockshop
spec:
  rules:
  - from:
    - source:
        principals:
        - cluster.local/ns/sockshop/sa/sockshop-front-end
    to:
    - operation:
        methods:
        - GET
        paths:
        - /carts/*
  selector:
    matchLabels:
      app: carts
---
apiVersion: security.istio.io/v1beta1
kind: AuthorizationPolicy
metadata:
  name: front-end-v2--8258682568293033102
  namespace: sockshop
spec:
  rules:
  - from:
    - source:
        principals:
        - cluster.local/ns/sockshop/sa/sockshop-front-end
    to:
    - operation:
        methods:
        - DELETE
        paths:
        - /carts/*
  selector:
    matchLabels:
      app: carts
---
apiVersion: security.istio.io/v1beta1
kind: AuthorizationPolicy
metadata:
  name: front-end-v2-5435772977356900664
  namespace: sockshop
spec:
  rules:
  - from:
    - source:
        principals:
        - cluster.local/ns/sockshop/sa/sockshop-front-end
    to:
    - operation:
        methods:
        - POST
        paths:
        - /carts/*
  selector:
    matchLabels:
      app: carts
---
apiVersion: security.istio.io/v1beta1
kind: AuthorizationPolicy
metadata:
  name: front-end-v2-7463049556041864968
  namespace: sockshop
spec:
  rules:
  - from:
    - source:
        principals:
        - cluster.local/ns/sockshop/sa/sockshop-front-end
    to:
    - operation:
        methods:
        - GET
        paths:
        - /catalogue/*
  selector:
    matchLabels:
      app: catalogue
---
apiVersion: security.istio.io/v1beta1
kind: AuthorizationPolicy
metadata:
  name: front-end-v2-2713851547483643491
  namespace: sockshop
spec:
  rules:
  - from:
    - source:
        principals:
        - cluster.local/ns/sockshop/sa/sockshop-front-end
    to:
    - operation:
        methods:
        - PATCH
        paths:
        - /carts/*
  selector:
    matchLabels:
      app: carts
---
apiVersion: security.istio.io/v1beta1
kind: AuthorizationPolicy
metadata:
  name: front-end-v2--178834558408828427
  namespace: sockshop
spec:
  rules:
  - from:
    - source:
        principals:
        - cluster.local/ns/sockshop/sa/sockshop-front-end
    to:
    - operation:
        methods:
        - GET
        paths:
        - /catalogue/images*
  selector:
    matchLabels:
      app: catalogue
---
apiVersion: security.istio.io/v1beta1
kind: AuthorizationPolicy
metadata:
  name: front-end-v2--1168489745519408897
  namespace: sockshop
spec:
  rules:
  - from:
    - source:
        principals:
        - cluster.local/ns/sockshop/sa/sockshop-front-end
    to:
    - operation:
        methods:
        - GET
        paths:
        - /catalogue*
  selector:
    matchLabels:
      app: catalogue
---
apiVersion: security.istio.io/v1beta1
kind: AuthorizationPolicy
metadata:
  name: front-end-v2-8112294728130838229
  namespace: sockshop
spec:
  rules:
  - from:
    - source:
        principals:
        - cluster.local/ns/sockshop/sa/sockshop-front-end
    to:
    - operation:
        methods:
        - GET
        paths:
        - /tags/tags
  selector:
    matchLabels:
      app: catalogue
---
apiVersion: security.istio.io/v1beta1
kind: AuthorizationPolicy
metadata:
  name: front-end-v2--4637385142140720389
  namespace: sockshop
spec:
  rules:
  - from:
    - source:
        principals:
        - cluster.local/ns/sockshop/sa/sockshop-front-end
    to:
    - operation:
        methods:
        - GET
        paths:
        - /orders/search/customerId?sort=date&custId=*
  selector:
    matchLabels:
      app: orders
---
apiVersion: security.istio.io/v1beta1
kind: AuthorizationPolicy
metadata:
  name: front-end-v2--1965871363849370931
  namespace: sockshop
spec:
  rules:
  - from:
    - source:
        principals:
        - cluster.local/ns/sockshop/sa/sockshop-front-end
    to:
    - operation:
        methods:
        - GET
        paths:
        - /orders/*
  selector:
    matchLabels:
      app: orders
---
apiVersion: security.istio.io/v1beta1
kind: AuthorizationPolicy
metadata:
  name: front-end-v2--926114395703496295
  namespace: sockshop
spec:
  rules:
  - from:
    - source:
        principals:
        - cluster.local/ns/sockshop/sa/sockshop-front-end
    to:
    - operation:
        methods:
        - GET
        paths:
        - /customers/*
  selector:
    matchLabels:
      app: user
---
apiVersion: security.istio.io/v1beta1
kind: AuthorizationPolicy
metadata:
  name: front-end-v2--2194100175486337722
  namespace: sockshop
spec:
  rules:
  - from:
    - source:
        principals:
        - cluster.local/ns/sockshop/sa/sockshop-front-end
    to:
    - operation:
        methods:
        - POST
        paths:
        - /orders
  selector:
    matchLabels:
      app: orders
---
apiVersion: security.istio.io/v1beta1
kind: AuthorizationPolicy
metadata:
  name: front-end-v2-8325765075561428563
  namespace: sockshop
spec:
  rules:
  - from:
    - source:
        principals:
        - cluster.local/ns/sockshop/sa/sockshop-front-end
    to:
    - operation:
        methods:
        - GET
        paths:
        - /customers
  selector:
    matchLabels:
      app: user
---
apiVersion: security.istio.io/v1beta1
kind: AuthorizationPolicy
metadata:
  name: front-end-v2-3200656655245306979
  namespace: sockshop
spec:
  rules:
  - from:
    - source:
        principals:
        - cluster.local/ns/sockshop/sa/sockshop-front-end
    to:
    - operation:
        methods:
        - GET
        paths:
        - /cards/*
  selector:
    matchLabels:
      app: user
---
apiVersion: security.istio.io/v1beta1
kind: AuthorizationPolicy
metadata:
  name: front-end-v2--4465636467482464778
  namespace: sockshop
spec:
  rules:
  - from:
    - source:
        principals:
        - cluster.local/ns/sockshop/sa/sockshop-front-end
    to:
    - operation:
        methods:
        - GET
        paths:
        - /cards
  selector:
    matchLabels:
      app: user
---
apiVersion: security.istio.io/v1beta1
kind: AuthorizationPolicy
metadata:
  name: front-end-v2-8402731392271050435
  namespace: sockshop
spec:
  rules:
  - from:
    - source:
        principals:
        - cluster.local/ns/sockshop/sa/sockshop-front-end
    to:
    - operation:
        methods:
        - GET
        paths:
        - /addresses
  selector:
    matchLabels:
      app: user
---
apiVersion: security.istio.io/v1beta1
kind: AuthorizationPolicy
metadata:
  name: front-end-v2-4195285705843864083
  namespace: sockshop
spec:
  rules:
  - from:
    - source:
        principals:
        - cluster.local/ns/sockshop/sa/sockshop-front-end
    to:
    - operation:
        methods:
        - POST
        paths:
        - /customers
  selector:
    matchLabels:
      app: user
---
apiVersion: security.istio.io/v1beta1
kind: AuthorizationPolicy
metadata:
  name: front-end-v2--1992271334020047985
  namespace: sockshop
spec:
  rules:
  - from:
    - source:
        principals:
        - cluster.local/ns/sockshop/sa/sockshop-front-end
    to:
    - operation:
        methods:
        - POST
        paths:
        - /addresses
  selector:
    matchLabels:
      app: user
---
apiVersion: security.istio.io/v1beta1
kind: AuthorizationPolicy
metadata:
  name: front-end-v2-1879081315781496565
  namespace: sockshop
spec:
  rules:
  - from:
    - source:
        principals:
        - cluster.local/ns/sockshop/sa/sockshop-front-end
    to:
    - operation:
        methods:
        - POST
        paths:
        - /cards
  selector:
    matchLabels:
      app: user
---
apiVersion: security.istio.io/v1beta1
kind: AuthorizationPolicy
metadata:
  name: front-end-v2-3308677915480985088
  namespace: sockshop
spec:
  rules:
  - from:
    - source:
        principals:
        - cluster.local/ns/sockshop/sa/sockshop-front-end
    to:
    - operation:
        methods:
        - DELETE
        paths:
        - /customers/*
  selector:
    matchLabels:
      app: user
---
apiVersion: security.istio.io/v1beta1
kind: AuthorizationPolicy
metadata:
  name: front-end-v2--529812850980931038
  namespace: sockshop
spec:
  rules:
  - from:
    - source:
        principals:
        - cluster.local/ns/sockshop/sa/sockshop-front-end
    to:
    - operation:
        methods:
        - DELETE
        paths:
        - /addresses/*
  selector:
    matchLabels:
      app: user
---
apiVersion: security.istio.io/v1beta1
kind: AuthorizationPolicy
metadata:
  name: front-end-v2--6195089313582787372
  namespace: sockshop
spec:
  rules:
  - from:
    - source:
        principals:
        - cluster.local/ns/sockshop/sa/sockshop-front-end
    to:
    - operation:
        methods:
        - DELETE
        paths:
        - /cards/*
  selector:
    matchLabels:
      app: user
---
apiVersion: security.istio.io/v1beta1
kind: AuthorizationPolicy
metadata:
  name: front-end-v2--8108594413039541826
  namespace: sockshop
spec:
  rules:
  - from:
    - source:
        principals:
        - cluster.local/ns/sockshop/sa/sockshop-front-end
    to:
    - operation:
        methods:
        - POST
        paths:
        - /register
  selector:
    matchLabels:
      app: user
---
apiVersion: security.istio.io/v1beta1
kind: AuthorizationPolicy
metadata:
  name: front-end-v2--3458787354565963783
  namespace: sockshop
spec:
  rules:
  - from:
    - source:
        principals:
        - cluster.local/ns/sockshop/sa/sockshop-front-end
    to:
    - operation:
        methods:
        - GET
        paths:
        - /login
  selector:
    matchLabels:
      app: user
---
apiVersion: security.istio.io/v1beta1
kind: AuthorizationPolicy
metadata:
  name: carts-v2-5174114756362397770
  namespace: sockshop
spec:
  rules:
  - from:
    - source:
        principals:
        - cluster.local/ns/sockshop/sa/sockshop-carts
    to:
    - operation:
        ports:
        - '27017'
  selector:
    matchLabels:
      app: carts-db
---
apiVersion: security.istio.io/v1beta1
kind: AuthorizationPolicy
metadata:
  name: queue-master-v2--3487815263249072008
  namespace: sockshop
spec:
  rules:
  - from:
    - source:
        principals:
        - cluster.local/ns/sockshop/sa/sockshop-queue-master
    to:
    - operation:
        ports:
        - '5672'
  selector:
    matchLabels:
      app: rabbitmq
---
apiVersion: security.istio.io/v1beta1
kind: AuthorizationPolicy
metadata:
  name: catalogue-v2--2800428699099865775
  namespace: sockshop
spec:
  rules:
  - from:
    - source:
        principals:
        - cluster.local/ns/sockshop/sa/sockshop-catalogue
    to:
    - operation:
        ports:
        - '3306'
  selector:
    matchLabels:
      app: catalogue-db
---
apiVersion: security.istio.io/v1beta1
kind: AuthorizationPolicy
metadata:
  name: user-v2--4990631093067681684
  namespace: sockshop
spec:
  rules:
  - from:
    - source:
        principals:
        - cluster.local/ns/sockshop/sa/sockshop-user
    to:
    - operation:
        ports:
        - '27017'
  selector:
    matchLabels:
      app: user-db
---
apiVersion: security.istio.io/v1beta1
kind: AuthorizationPolicy
metadata:
  name: orders-v2--661680247235301963
  namespace: sockshop
spec:
  rules:
  - from:
    - source:
        principals:
        - cluster.local/ns/sockshop/sa/sockshop-orders
    to:
    - operation:
        methods:
        - POST
        paths:
        - /paymentAuth
  selector:
    matchLabels:
      app: payment
---
apiVersion: security.istio.io/v1beta1
kind: AuthorizationPolicy
metadata:
  name: orders-v2--3549820582565929361
  namespace: sockshop
spec:
  rules:
  - from:
    - source:
        principals:
        - cluster.local/ns/sockshop/sa/sockshop-orders
    to:
    - operation:
        methods:
        - POST
        paths:
        - /shipping
  selector:
    matchLabels:
      app: shipping
---
apiVersion: security.istio.io/v1beta1
kind: AuthorizationPolicy
metadata:
  name: orders-v2-6966214715464798874
  namespace: sockshop
spec:
  rules:
  - from:
    - source:
        principals:
        - cluster.local/ns/sockshop/sa/sockshop-orders
    to:
    - operation:
        ports:
        - '27017'
  selector:
    matchLabels:
      app: orders-db
---
apiVersion: security.istio.io/v1beta1
kind: AuthorizationPolicy
metadata:
  name: orders-v2--926114395703496295
  namespace: sockshop
spec:
  rules:
  - from:
    - source:
        principals:
        - cluster.local/ns/sockshop/sa/sockshop-orders
    to:
    - operation:
        methods:
        - GET
        paths:
        - /customers/*
  selector:
    matchLabels:
      app: user
---
apiVersion: security.istio.io/v1beta1
kind: AuthorizationPolicy
metadata:
  name: orders-v2-858797158681803234
  namespace: sockshop
spec:
  rules:
  - from:
    - source:
        principals:
        - cluster.local/ns/sockshop/sa/sockshop-orders
    to:
    - operation:
        methods:
        - GET
        paths:
        - /carts/*
  selector:
    matchLabels:
      app: carts

apiVersion: security.istio.io/v1beta1
kind: AuthorizationPolicy
metadata:
  name: carts-v1--7347449960072582911
  namespace: sockshop
spec:
  rules:
  - from:
    - source:
        principals:
        - cluster.local/ns/sockshop/sa/carts
    to:
    - operation:
        ports:
        - 27017
  selector:
    matchLabels:
      app: carts-db
---
apiVersion: security.istio.io/v1beta1
kind: AuthorizationPolicy
metadata:
  name: shipping-v1-395784478062815525
  namespace: sockshop
spec:
  rules:
  - from:
    - source:
        principals:
        - cluster.local/ns/sockshop/sa/shipping
    to:
    - operation:
        ports:
        - 5672
  selector:
    matchLabels:
      app: rabbitmq
---
apiVersion: security.istio.io/v1beta1
kind: AuthorizationPolicy
metadata:
  name: front-end-v1-767489844205393554
  namespace: sockshop
spec:
  rules:
  - from:
    - source:
        principals:
        - cluster.local/ns/sockshop/sa/front-end
    to:
    - operation:
        methods:
        - GET
        paths:
        - /carts/*/items
  selector:
    matchLabels:
      app: carts
---
apiVersion: security.istio.io/v1beta1
kind: AuthorizationPolicy
metadata:
  name: front-end-v1-3327984648024634766
  namespace: sockshop
spec:
  rules:
  - from:
    - source:
        principals:
        - cluster.local/ns/sockshop/sa/front-end
    to:
    - operation:
        methods:
        - DELETE
        paths:
        - /carts/*
  selector:
    matchLabels:
      app: carts
---
apiVersion: security.istio.io/v1beta1
kind: AuthorizationPolicy
metadata:
  name: front-end-v1-107918821235296884
  namespace: sockshop
spec:
  rules:
  - from:
    - source:
        principals:
        - cluster.local/ns/sockshop/sa/front-end
    to:
    - operation:
        methods:
        - DELETE
        paths:
        - /carts/*/items/*
  selector:
    matchLabels:
      app: carts
---
apiVersion: security.istio.io/v1beta1
kind: AuthorizationPolicy
metadata:
  name: front-end-v1--5311816742858342934
  namespace: sockshop
spec:
  rules:
  - from:
    - source:
        principals:
        - cluster.local/ns/sockshop/sa/front-end
    to:
    - operation:
        methods:
        - POST
        paths:
        - /carts/*/items
  selector:
    matchLabels:
      app: carts
---
apiVersion: security.istio.io/v1beta1
kind: AuthorizationPolicy
metadata:
  name: front-end-v1-8552259592749749164
  namespace: sockshop
spec:
  rules:
  - from:
    - source:
        principals:
        - cluster.local/ns/sockshop/sa/front-end
    to:
    - operation:
        methods:
        - GET
        paths:
        - /tags/catalogue/*
  selector:
    matchLabels:
      app: catalogue
---
apiVersion: security.istio.io/v1beta1
kind: AuthorizationPolicy
metadata:
  name: front-end-v1--6607794658414383097
  namespace: sockshop
spec:
  rules:
  - from:
    - source:
        principals:
        - cluster.local/ns/sockshop/sa/front-end
    to:
    - operation:
        methods:
        - PATCH
        paths:
        - /carts/*/items
  selector:
    matchLabels:
      app: carts
---
apiVersion: security.istio.io/v1beta1
kind: AuthorizationPolicy
metadata:
  name: front-end-v1-7858776708546483499
  namespace: sockshop
spec:
  rules:
  - from:
    - source:
        principals:
        - cluster.local/ns/sockshop/sa/front-end
    to:
    - operation:
        methods:
        - GET
        paths:
        - /tags/catalogue/images*
  selector:
    matchLabels:
      app: catalogue
---
apiVersion: security.istio.io/v1beta1
kind: AuthorizationPolicy
metadata:
  name: front-end-v1--1694617498057858521
  namespace: sockshop
spec:
  rules:
  - from:
    - source:
        principals:
        - cluster.local/ns/sockshop/sa/front-end
    to:
    - operation:
        methods:
        - GET
        paths:
        - /tags/catalogue*
  selector:
    matchLabels:
      app: catalogue
---
apiVersion: security.istio.io/v1beta1
kind: AuthorizationPolicy
metadata:
  name: front-end-v1--8479961945215199554
  namespace: sockshop
spec:
  rules:
  - from:
    - source:
        principals:
        - cluster.local/ns/sockshop/sa/front-end
    to:
    - operation:
        methods:
        - GET
        paths:
        - /tags/tags
  selector:
    matchLabels:
      app: catalogue
---
apiVersion: security.istio.io/v1beta1
kind: AuthorizationPolicy
metadata:
  name: front-end-v1--3352845343473725499
  namespace: sockshop
spec:
  rules:
  - from:
    - source:
        principals:
        - cluster.local/ns/sockshop/sa/front-end
    to:
    - operation:
        methods:
        - GET
        paths:
        - /orders/search/customerId?sort=date&custId=*
  selector:
    matchLabels:
      app: orders
---
apiVersion: security.istio.io/v1beta1
kind: AuthorizationPolicy
metadata:
  name: front-end-v1--7275735586901115041
  namespace: sockshop
spec:
  rules:
  - from:
    - source:
        principals:
        - cluster.local/ns/sockshop/sa/front-end
    to:
    - operation:
        methods:
        - GET
        paths:
        - /orders/*
  selector:
    matchLabels:
      app: orders
---
apiVersion: security.istio.io/v1beta1
kind: AuthorizationPolicy
metadata:
  name: front-end-v1-4493598761796622075
  namespace: sockshop
spec:
  rules:
  - from:
    - source:
        principals:
        - cluster.local/ns/sockshop/sa/front-end
    to:
    - operation:
        methods:
        - GET
        paths:
        - /customers/*
  selector:
    matchLabels:
      app: user
---
apiVersion: security.istio.io/v1beta1
kind: AuthorizationPolicy
metadata:
  name: front-end-v1-6262096449925204550
  namespace: sockshop
spec:
  rules:
  - from:
    - source:
        principals:
        - cluster.local/ns/sockshop/sa/front-end
    to:
    - operation:
        methods:
        - POST
        paths:
        - /orders
  selector:
    matchLabels:
      app: orders
---
apiVersion: security.istio.io/v1beta1
kind: AuthorizationPolicy
metadata:
  name: front-end-v1--5548517356419641766
  namespace: sockshop
spec:
  rules:
  - from:
    - source:
        principals:
        - cluster.local/ns/sockshop/sa/front-end
    to:
    - operation:
        methods:
        - GET
        paths:
        - /customers
  selector:
    matchLabels:
      app: user
---
apiVersion: security.istio.io/v1beta1
kind: AuthorizationPolicy
metadata:
  name: front-end-v1-7131439846897534959
  namespace: sockshop
spec:
  rules:
  - from:
    - source:
        principals:
        - cluster.local/ns/sockshop/sa/front-end
    to:
    - operation:
        methods:
        - GET
        paths:
        - /cards/*
  selector:
    matchLabels:
      app: user
---
apiVersion: security.istio.io/v1beta1
kind: AuthorizationPolicy
metadata:
  name: front-end-v1--5956689419807064732
  namespace: sockshop
spec:
  rules:
  - from:
    - source:
        principals:
        - cluster.local/ns/sockshop/sa/front-end
    to:
    - operation:
        methods:
        - GET
        paths:
        - /cards
  selector:
    matchLabels:
      app: user
---
apiVersion: security.istio.io/v1beta1
kind: AuthorizationPolicy
metadata:
  name: front-end-v1--471702371976595402
  namespace: sockshop
spec:
  rules:
  - from:
    - source:
        principals:
        - cluster.local/ns/sockshop/sa/front-end
    to:
    - operation:
        methods:
        - GET
        paths:
        - /addresses
  selector:
    matchLabels:
      app: user
---
apiVersion: security.istio.io/v1beta1
kind: AuthorizationPolicy
metadata:
  name: front-end-v1-8175435085883306969
  namespace: sockshop
spec:
  rules:
  - from:
    - source:
        principals:
        - cluster.local/ns/sockshop/sa/front-end
    to:
    - operation:
        methods:
        - POST
        paths:
        - /customers
  selector:
    matchLabels:
      app: user
---
apiVersion: security.istio.io/v1beta1
kind: AuthorizationPolicy
metadata:
  name: front-end-v1-9198802128618238243
  namespace: sockshop
spec:
  rules:
  - from:
    - source:
        principals:
        - cluster.local/ns/sockshop/sa/front-end
    to:
    - operation:
        methods:
        - POST
        paths:
        - /addresses
  selector:
    matchLabels:
      app: user
---
apiVersion: security.istio.io/v1beta1
kind: AuthorizationPolicy
metadata:
  name: front-end-v1--1379967126140911121
  namespace: sockshop
spec:
  rules:
  - from:
    - source:
        principals:
        - cluster.local/ns/sockshop/sa/front-end
    to:
    - operation:
        methods:
        - GET
        paths:
        - /customers/*/cards
  selector:
    matchLabels:
      app: user
---
apiVersion: security.istio.io/v1beta1
kind: AuthorizationPolicy
metadata:
  name: front-end-v1-4500110690506573106
  namespace: sockshop
spec:
  rules:
  - from:
    - source:
        principals:
        - cluster.local/ns/sockshop/sa/front-end
    to:
    - operation:
        methods:
        - GET
        paths:
        - /customers/*/addresses
  selector:
    matchLabels:
      app: user
---
apiVersion: security.istio.io/v1beta1
kind: AuthorizationPolicy
metadata:
  name: front-end-v1-1637456802550454537
  namespace: sockshop
spec:
  rules:
  - from:
    - source:
        principals:
        - cluster.local/ns/sockshop/sa/front-end
    to:
    - operation:
        methods:
        - POST
        paths:
        - /cards
  selector:
    matchLabels:
      app: user
---
apiVersion: security.istio.io/v1beta1
kind: AuthorizationPolicy
metadata:
  name: front-end-v1--4329701705059905840
  namespace: sockshop
spec:
  rules:
  - from:
    - source:
        principals:
        - cluster.local/ns/sockshop/sa/front-end
    to:
    - operation:
        methods:
        - DELETE
        paths:
        - /customers/*
  selector:
    matchLabels:
      app: user
---
apiVersion: security.istio.io/v1beta1
kind: AuthorizationPolicy
metadata:
  name: front-end-v1-8407629182252150908
  namespace: sockshop
spec:
  rules:
  - from:
    - source:
        principals:
        - cluster.local/ns/sockshop/sa/front-end
    to:
    - operation:
        methods:
        - DELETE
        paths:
        - /addresses/*
  selector:
    matchLabels:
      app: user
---
apiVersion: security.istio.io/v1beta1
kind: AuthorizationPolicy
metadata:
  name: front-end-v1-9167473275567862652
  namespace: sockshop
spec:
  rules:
  - from:
    - source:
        principals:
        - cluster.local/ns/sockshop/sa/front-end
    to:
    - operation:
        methods:
        - DELETE
        paths:
        - /cards/*
  selector:
    matchLabels:
      app: user
---
apiVersion: security.istio.io/v1beta1
kind: AuthorizationPolicy
metadata:
  name: front-end-v1--8030954224010170899
  namespace: sockshop
spec:
  rules:
  - from:
    - source:
        principals:
        - cluster.local/ns/sockshop/sa/front-end
    to:
    - operation:
        methods:
        - POST
        paths:
        - /register
  selector:
    matchLabels:
      app: user
---
apiVersion: security.istio.io/v1beta1
kind: AuthorizationPolicy
metadata:
  name: front-end-v1--4796733297623762604
  namespace: sockshop
spec:
  rules:
  - from:
    - source:
        principals:
        - cluster.local/ns/sockshop/sa/front-end
    to:
    - operation:
        methods:
        - GET
        paths:
        - /carts/*/merge?sessionId=*
  selector:
    matchLabels:
      app: carts
---
apiVersion: security.istio.io/v1beta1
kind: AuthorizationPolicy
metadata:
  name: front-end-v1-411296803862129193
  namespace: sockshop
spec:
  rules:
  - from:
    - source:
        principals:
        - cluster.local/ns/sockshop/sa/front-end
    to:
    - operation:
        methods:
        - GET
        paths:
        - /login
  selector:
    matchLabels:
      app: user
---
apiVersion: security.istio.io/v1beta1
kind: AuthorizationPolicy
metadata:
  name: queue-master-v1-395784478062815525
  namespace: sockshop
spec:
  rules:
  - from:
    - source:
        principals:
        - cluster.local/ns/sockshop/sa/queue-master
    to:
    - operation:
        ports:
        - 5672
  selector:
    matchLabels:
      app: rabbitmq
---
apiVersion: security.istio.io/v1beta1
kind: AuthorizationPolicy
metadata:
  name: user-v1--2790605982548417809
  namespace: sockshop
spec:
  rules:
  - from:
    - source:
        principals:
        - cluster.local/ns/sockshop/sa/user
    to:
    - operation:
        ports:
        - 27017
  selector:
    matchLabels:
      app: user-db
---
apiVersion: security.istio.io/v1beta1
kind: AuthorizationPolicy
metadata:
  name: orders-v1-7885507043201702770
  namespace: sockshop
spec:
  rules:
  - from:
    - source:
        principals:
        - cluster.local/ns/sockshop/sa/orders
    to:
    - operation:
        methods:
        - POST
        paths:
        - /paymentAuth
  selector:
    matchLabels:
      app: payment
---
apiVersion: security.istio.io/v1beta1
kind: AuthorizationPolicy
metadata:
  name: orders-v1-348699168333162858
  namespace: sockshop
spec:
  rules:
  - from:
    - source:
        principals:
        - cluster.local/ns/sockshop/sa/orders
    to:
    - operation:
        methods:
        - POST
        paths:
        - /shipping
  selector:
    matchLabels:
      app: shipping
---
apiVersion: security.istio.io/v1beta1
kind: AuthorizationPolicy
metadata:
  name: orders-v1-626484112928809958
  namespace: sockshop
spec:
  rules:
  - from:
    - source:
        principals:
        - cluster.local/ns/sockshop/sa/orders
    to:
    - operation:
        ports:
        - 27017
  selector:
    matchLabels:
      app: orders-db
---
apiVersion: security.istio.io/v1beta1
kind: AuthorizationPolicy
metadata:
  name: catalogue-v1-2774450838799719009
  namespace: sockshop
spec:
  rules:
  - from:
    - source:
        principals:
        - cluster.local/ns/sockshop/sa/catalogue
    to:
    - operation:
        ports:
        - 3306
  selector:
    matchLabels:
      app: catalogue-db
